<div class="container">
  <app-title title="Envio de Solicitações"></app-title>

  <form #form="ngForm" (ngSubmit)="submitForm(form)">
    <!-- Tipo de solicitacao -->

    <div class="form-group">
      <label for="tipoSolicitacao">Tipo:</label>
      <select name="tipoSolicitacao" id="tipoSolicitacao" [(ngModel)]="formData.tipoSolicitacao" required>
        <option *ngFor="let item of listTiposRequisicoes" [ngValue]="item.tipoSolicitacao">
          {{ item.tipoSolicitacao }}
        </option>
      </select>
    </div>

    <div [ngSwitch]="formData.tipoSolicitacao">

      <!-- Certificação -->
      <div *ngSwitchCase="'Certificação de conhecimento'">
        <div class="form-group">
          <label for="componenteCurricular">Componente Curricular:</label>
          <select name="componenteCurricular" id="componenteCurricular" [(ngModel)]="formData.componenteCurricular" required>
            <option *ngFor="let item of listComponentesCurriculares" [ngValue]="item.componenteCurricular">
              {{ item.componenteCurricular }}
            </option>
          </select>
        </div>

        <!-- Experiencia Anterior -->
        <div class="form-group">
          <label for="experienciaAnterior">Experiência anterior:</label>
          <input type="text" name="experienciaAnterior" id="experienciaAnterior" placeholder="ex: atuação em projeto que utiliza angular" [(ngModel)]="formData.experienciaAnterior" required/>
        </div>

        <!-- Anexar Arquivo -->
        <div class="form-group">
          <label for="file-input">Anexar arquivo:</label>
          <div class="file-upload">
            <label for="file-input" class="file-label" [innerHTML]="fileFormat"></label>
            <input type="file" id="file-input" class="file-input" accept=".pdf, .jpeg" multiple (change)="handleFileSelect($event)" [(ngModel)]="formData.file" required/>
          </div>
          <div class="file-info" *ngFor="let file of files; let i = index">
            <span>{{ file.name }}</span>
            <button class="btn-remove" (click)="removeFile(i)">(remover)</button>
          </div>
        </div>

        <br/><br/>

        <!-- Botões -->
        <div class="form-half-grid">
          <div class="btn-submit-container">
            <button type="submit" class="btn-register">Enviar</button>
          </div>
          <div class="btn-submit-container">
            <button type="reset" class="btn-red" (click)="handleResetClick()">Cancelar</button>
          </div>
        </div>
      </div>

      <!-- Aproveitamento -->
      <div *ngSwitchCase="'Aproveitamento de estudos'">

        <!-- Componente Curricular -->
        <div class="form-group">
          <label for="componenteCurricular">Componente Curricular:</label>
          <select name="componenteCurricular" id="componenteCurricular" [(ngModel)]="formData.componenteCurricular" required>
            <option *ngFor="let item of listComponentesCurriculares" [ngValue]="item.componenteCurricular">
              {{ item.componenteCurricular }}
            </option>
          </select>
        </div>

        <!-- Componente Anterior -->
        <div class="form-group">
          <label for="componenteCursado">Componente cursado anteriormente:</label>
          <input type="text" name="componenteCursado" id="componenteCursado" placeholder="Nome do curso cursado" [(ngModel)]="formData.componenteCursado" required>
        </div>

        <!-- Nota & Carga Horaria -->
        <div class="form-half-grid">
          <div class="form-group">
            <label for="nota">Nota obtida:</label>
            <input type="number" name="nota" id="nota" min="0" max="10" step="0.1" placeholder="Inserir nota" [(ngModel)]="formData.nota" required>
          </div>
          <div class="form-group">
            <label for="cargaHoraria">Carga Horária</label>
            <input type="number" id="cargaHoraria" name="cargaHoraria" placeholder="Carga Horária(h)" min="0" [(ngModel)]="formData.cargaHoraria" required />
          </div>
        </div>

        <!-- Anexar Arquivo -->
        <div class="form-group">
          <label for="file-input">Anexar arquivo:</label>
          <div class="file-upload">
            <label for="file-input" class="file-label" [innerHTML]="fileFormat"></label>
            <input type="file" id="file-input" class="file-input" accept=".pdf, .jpeg" multiple (change)="handleFileSelect($event)" [(ngModel)]="formData.file" required/>
          </div>
          <div class="file-info" *ngFor="let file of files; let i = index">
            <span>{{ file.name }}</span>
            <button class="btn-remove" (click)="removeFile(i)">(remover)</button>
          </div>
        </div>

        <br/><br/>

        <!-- Botões -->
        <div class="form-half-grid">
          <div class="btn-submit-container">
            <button type="submit" class="btn-register">Enviar</button>
          </div>
          <div class="btn-submit-container">
            <button type="reset" class="btn-red" (click)="handleResetClick()">Cancelar</button>
          </div>
        </div>
      </div>

      <div *ngSwitchDefault>
        <!-- Conteúdo padrão quando 'tipoSolicitacao' não corresponde a 'certificacao' ou 'aproveitamento' -->
      </div>

    </div>

  </form>
</div>
<!-- {{form.value | json}} -->
