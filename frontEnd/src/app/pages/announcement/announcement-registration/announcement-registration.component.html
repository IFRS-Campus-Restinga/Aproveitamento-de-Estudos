<div class="container">
    <app-title title="Cadastrar Edital"></app-title>
    <form #form="ngForm" (ngSubmit)="submitForm(form)">

      <div class="form-group">
        <label for="numero">Número</label>
        <input type="text" id="numero" name="numero" placeholder="123456789" [(ngModel)]="formData.numero" required
          pattern="^[A-Z0-9\-\/.()]{6,35}$" (input)="converterParaMaiusculas()" />
      </div>

      <div class="form-half-grid">
        <div class="form-group">
          <label for="dataInicio">Data início</label>
          <input type="date" id="dataInicio" name="dataInicio" [(ngModel)]="formData.dataInicio" required />
        </div>
        <div class="form-group">
          <label for="dataFim">Data fim</label>
          <input type="date" id="dataFim" name="dataFim" [(ngModel)]="formData.dataFim" required
            (input)="validarDataFinalPosterior()" [class.invalid]="!validarDataFinalPosterior()" />
      </div>


        </div>
        <div class="btn-container">
            <h3>Etapas:</h3>
            <button (click)="addStep()" class="btn-register add-step">Etapa +</button>
        </div>
        <div *ngFor="let step of steps">
            <app-announcement-step></app-announcement-step>
        </div>

        <div class="btn-submit-container">
          <button type="submit" class="btn-register" [ngClass]="{'btn-green':(form.valid && validarDataFinalPosterior()) ,
          'btn-gray': (!form.valid || !validarDataFinalPosterior())}" [disabled]="!form.valid || !validarDataFinalPosterior()">Enviar</button>
        </div>

    </form>
</div>
{{form.valid | json}}
{{form.value | json}}
{{validarDataFinalPosterior() | json }}
